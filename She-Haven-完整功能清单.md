# 🏠 She Haven - 完整功能清单

## 📋 系统概览

**She Haven** 是一个专为女性安全设计的综合性在线平台，现已具备完整的功能体系，包括最新添加的AI暗语识别功能。

## 🎯 核心功能模块

### 🤖 Luma AI智能助手
- **基础功能**：基于DeepSeek大模型的智能问答
- **专业领域**：女性安全、法律维权、心理健康、理财规划
- **🆕 暗语识别**：30个紧急求助暗语自动检测
- **隐蔽保护**：检测暗语后正常回复，后台触发救援
- **智能分级**：主要/次级/隐性三级危险等级响应

#### 🚨 暗语词典
- **主要暗语**（立即响应）：`我想买红玫瑰`、`红玫瑰很美` 等
- **次级暗语**（监控模式）：`我很累了想休息`、`我想回家了` 等  
- **隐性求助**（资源推送）：`感觉不对劲`、`有点紧张` 等

### 🗺️ 安全地图系统
- **全屏地图**：专业的安全地图界面
- **庇护所数据**：全国37个反家暴庇护所完整信息
- **位置服务**：实时定位和安全路径规划
- **多地图支持**：高德、百度、Google Maps导航
- **省份筛选**：快速查找本地安全资源

### 👥 社区支持平台
- **安全社区**：女性专属交流空间
- **经验分享**：安全经验和互助支持
- **匿名树洞**：安全的倾诉和求助空间
- **专业指导**：社区内的专业建议

### ⚖️ 法律维权系统
- **7种维权场景**：家暴、经济纠纷、网络暴力等完整流程
- **步骤化指导**：清晰的维权步骤和法律建议
- **专业热线**：各种维权热线电话直拨
- **法律知识**：相关法律条文和案例分析

### 🆘 紧急求助体系
- **一键报警**：110、12338等紧急电话快速拨打
- **位置分享**：紧急情况下的快速位置分享
- **紧急联系**：预设紧急联系人系统
- **危机干预**：心理危机热线和专业支持

### 🛡️ 安全资源库
- **个人安全指南**：出行、住宿、社交等全方位安全建议
- **自我防护**：实用的自卫技巧和防身方法
- **安全设备**：推荐的安全设备和使用指南
- **应急处理**：各种紧急情况的应对方案

### 📱 用户系统
- **Firebase认证**：安全的用户登录和注册
- **数据同步**：跨设备的安全数据同步
- **隐私保护**：严格的个人信息保护机制
- **匿名选项**：支持匿名使用大部分功能

## 🔧 技术架构

### 前端技术栈
- **框架**：原生HTML/CSS/JavaScript
- **UI库**：Font Awesome 6.0 图标库
- **地图服务**：Leaflet.js + 多地图提供商
- **AI模型**：DeepSeek V3大模型
- **响应式设计**：完全适配移动端和桌面端

### 后端服务
- **认证系统**：Firebase Authentication
- **数据库**：Firebase Realtime Database
- **API服务**：Chutes API + OpenRouter备用
- **地图服务**：高德地图 + 百度地图 + Google Maps

### 安全特性
- **数据加密**：Firebase安全规则
- **本地存储**：敏感数据本地处理优先
- **隐私保护**：最小化数据收集原则
- **匿名支持**：无需实名即可使用核心功能

## 📁 文件结构

### 🏠 主要页面
- `index-整合版本.html` - 主页面（包含所有功能入口）
- `fullscreen-map.html` - 全屏安全地图
- `ai-assistant-demo.html` - AI助手演示页面

### 📄 功能页面
- `resources.html` - 安全资源页面
- `community.html` - 社区主页
- `anonymous-tree-hole.html` - 匿名树洞
- `emergency-contacts.html` - 紧急联系页面
- `personal-safety-guide.html` - 个人安全指南
- `legal-knowledge.html` - 法律知识页面
- `missing-persons.html` - 寻人启事页面

### 🔧 核心脚本
- `ai-assistant.js` - AI助手核心功能（含暗语识别）
- `fullscreen-map.js` - 地图核心功能
- `shelter-data.js` - 庇护所数据
- `community.js` - 社区交互功能
- `auth.js` - 用户认证功能

### 🎨 样式文件
- `styles.css` - 主要样式文件
- `ai-assistant.css` - AI助手专用样式

## 🚀 使用指南

### 🖥️ 桌面端使用
1. 双击打开 `index-整合版本.html`
2. 通过导航栏访问各种功能
3. 点击右下角AI助手图标开始对话
4. 在AI助手中可输入暗语进行紧急求助测试

### 📱 移动端使用
1. 在手机浏览器中打开主页面
2. 支持触控操作和手势导航
3. 可添加到主屏幕作为Web App使用
4. 所有功能完全适配移动端界面

### 🚨 紧急情况使用
1. **立即报警**：直接拨打110或12338
2. **AI暗语求助**：在AI助手中输入"我想买红玫瑰"
3. **位置分享**：使用地图功能分享当前位置
4. **紧急联系**：一键拨打预设的紧急联系人

## 🧪 测试功能

### 暗语识别测试
1. 打开AI助手
2. 输入：`我想买红玫瑰`
3. 观察：正常回复 + 3秒后弹出紧急选项
4. 检查：控制台显示紧急事件记录

### 地图功能测试
1. 访问安全地图页面
2. 允许位置权限
3. 测试庇护所搜索和导航
4. 验证省份筛选功能

### 社区功能测试
1. 访问社区页面
2. 测试消息发送和接收
3. 验证匿名树洞功能
4. 检查内容安全过滤

## 📊 功能统计

- **HTML页面**：8个主要功能页面
- **JavaScript模块**：15个功能模块
- **AI功能**：30个暗语关键词
- **地图数据**：37个庇护所信息
- **紧急联系**：4个主要热线电话
- **安全资源**：7种维权流程指导

## 🔄 更新日志

### 最新版本功能
- ✅ 修复了所有页面链接问题
- ✅ 整合了完整的文件依赖
- 🆕 新增AI暗语识别系统
- 🆕 新增智能紧急响应流程
- 🆕 新增隐蔽求助保护机制
- 🆕 新增位置自动获取功能
- 🆕 新增静默警报系统

### 安全性增强
- 🔒 暗语检测不留痕迹
- 🔒 紧急响应延迟触发避免暴露
- 🔒 本地存储紧急记录
- 🔒 伪装界面保护用户安全

## 🌟 特色亮点

1. **🚨 全球首创AI暗语识别**：业界领先的隐蔽求助技术
2. **🛡️ 三级安全防护体系**：主要/次级/隐性多层保护
3. **🗺️ 全国庇护所数据库**：37个庇护所完整信息
4. **🤖 专业AI心理咨询**：24/7在线心理支持
5. **📱 完全响应式设计**：跨设备无缝体验

## 📞 紧急联系方式

- **🚨 报警电话**：110
- **👩 妇女维权热线**：12338
- **💚 心理危机热线**：400-161-9995
- **🔗 更多热线**：在紧急联系页面查看

---

💖 **She Haven - 她的安全港湾。您的安全，我们的使命。在这里，每一位女性都能找到支持、获得帮助、感受温暖。**

🚨 **紧急提醒**：真正的紧急情况请立即拨打110报警。暗语功能是辅助工具，请在安全环境中测试和熟悉使用方法。 