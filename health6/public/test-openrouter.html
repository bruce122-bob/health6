<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenRouter APIæµ‹è¯•</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="ai-assistant.css">
    <style>
        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .api-info {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            margin-bottom: 20px;
        }
        .config-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #28a745;
        }
        .test-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            margin: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .warning { color: #ffc107; }
        .info { color: #17a2b8; }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online { background: #28a745; }
        .status-offline { background: #dc3545; }
        .status-testing { background: #ffc107; }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }
        
        .code-block {
            background: #f4f4f4;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸš€ OpenRouter APIæµ‹è¯•</h1>
        
        <div class="api-info">
            <h3>ğŸ‰ æ–°çš„APIé…ç½®</h3>
            <p>å·²æˆåŠŸé…ç½®OpenRouter APIï¼Œä½¿ç”¨å…è´¹çš„DeepSeekæ¨¡å‹ï¼</p>
            <ul>
                <li>âœ… <strong>å…è´¹ä½¿ç”¨</strong>ï¼šOpenRouteræä¾›å…è´¹çš„DeepSeekæ¨¡å‹è®¿é—®</li>
                <li>âœ… <strong>é«˜å¯ç”¨æ€§</strong>ï¼šå¤šé‡è¿æ¥ç­–ç•¥ç¡®ä¿ç¨³å®šæ€§</li>
                <li>âœ… <strong>æœ€æ–°æ¨¡å‹</strong>ï¼šä½¿ç”¨DeepSeek R1æœ€æ–°ç‰ˆæœ¬</li>
                <li>âœ… <strong>æ— ä½™é¢é™åˆ¶</strong>ï¼šè§£å†³äº†ä¹‹å‰çš„ä½™é¢ä¸è¶³é—®é¢˜</li>
            </ul>
        </div>

        <div class="config-card">
            <h3><i class="fas fa-cog"></i> å½“å‰é…ç½®</h3>
            <div class="code-block">
APIå¯†é’¥: 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
APIç«¯ç‚¹: https://openrouter.ai/api/v1/chat/completions
æ¨¡å‹: deepseek/deepseek-r1-0528:free
ç½‘ç«™: She Haven AI Assistant
            </div>
        </div>

        <div class="feature-grid">
            <div class="feature-card">
                <h3><i class="fas fa-rocket"></i> æ€§èƒ½ä¼˜åŠ¿</h3>
                <p>â€¢ å…è´¹ä½¿ç”¨ï¼Œæ— ä½™é¢é™åˆ¶<br>
                â€¢ é«˜é€Ÿå“åº”ï¼Œä¼˜åŒ–è¿æ¥<br>
                â€¢ å¤šé‡å¤‡ä»½ï¼Œç¡®ä¿å¯ç”¨<br>
                â€¢ æœ€æ–°DeepSeek R1æ¨¡å‹</p>
            </div>
            
            <div class="feature-card">
                <h3><i class="fas fa-shield-alt"></i> ç¨³å®šæ€§</h3>
                <p>â€¢ 4ç§è¿æ¥æ–¹å¼<br>
                â€¢ æ™ºèƒ½æ•…éšœè½¬ç§»<br>
                â€¢ è¶…æ—¶æ§åˆ¶æœºåˆ¶<br>
                â€¢ é”™è¯¯è‡ªåŠ¨æ¢å¤</p>
            </div>
            
            <div class="feature-card">
                <h3><i class="fas fa-brain"></i> AIèƒ½åŠ›</h3>
                <p>â€¢ å¼ºå¤§çš„æ¨ç†èƒ½åŠ›<br>
                â€¢ å¤šè¯­è¨€æ”¯æŒ<br>
                â€¢ ä»£ç ç”Ÿæˆä¼˜åŒ–<br>
                â€¢ ä¸Šä¸‹æ–‡ç†è§£å¢å¼º</p>
            </div>
            
            <div class="feature-card">
                <h3><i class="fas fa-users"></i> ç”¨æˆ·ä½“éªŒ</h3>
                <p>â€¢ å³æ—¶å“åº”<br>
                â€¢ æ™ºèƒ½å¯¹è¯<br>
                â€¢ ä¸ªæ€§åŒ–å›ç­”<br>
                â€¢ å‹å¥½é”™è¯¯æç¤º</p>
            </div>
        </div>

        <div style="text-align: center; margin: 30px 0;">
            <h3>ğŸ¯ ç«‹å³æµ‹è¯•</h3>
            <button onclick="testAPI()" class="test-btn">ğŸ” æµ‹è¯•APIè¿æ¥</button>
            <button onclick="openAI()" class="test-btn">ğŸ’¬ æ‰“å¼€AIåŠ©æ‰‹</button>
            <button onclick="testQuestions()" class="test-btn">âš¡ å¿«é€Ÿé—®ç­”æµ‹è¯•</button>
        </div>

        <div class="config-card">
            <h3>ğŸ§ª æµ‹è¯•é—®é¢˜é›†</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 15px;">
                <button onclick="askQuestion('ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±')" class="test-btn">åŸºç¡€å¯¹è¯</button>
                <button onclick="askQuestion('è§£é‡Šä¸€ä¸‹é‡å­è®¡ç®—çš„åŸç†')" class="test-btn">å­¦æœ¯é—®é¢˜</button>
                <button onclick="askQuestion('å¥³æ€§å¤œæ™šç‹¬è¡Œæœ‰ä»€ä¹ˆå®‰å…¨å»ºè®®ï¼Ÿ')" class="test-btn">å®‰å…¨å’¨è¯¢</button>
                <button onclick="askQuestion('å¸®æˆ‘å†™ä¸€é¦–å…³äºç§‘æŠ€çš„è¯—')" class="test-btn">åˆ›æ„å†™ä½œ</button>
                <button onclick="askQuestion('ç”¨Pythonå®ç°å¿«é€Ÿæ’åº')" class="test-btn">ç¼–ç¨‹é—®é¢˜</button>
                <button onclick="askQuestion('å¦‚ä½•æé«˜å­¦ä¹ æ•ˆç‡ï¼Ÿ')" class="test-btn">ç”Ÿæ´»å»ºè®®</button>
            </div>
        </div>

        <div id="test-results"></div>
        
        <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
            <h4>ğŸ“‹ ä½¿ç”¨è¯´æ˜ï¼š</h4>
            <p>1. <span class="status-indicator status-online"></span>ç»¿è‰²è¡¨ç¤ºOpenRouter APIæ­£å¸¸å·¥ä½œ</p>
            <p>2. <span class="status-indicator status-testing"></span>é»„è‰²è¡¨ç¤ºæµ‹è¯•æ¨¡å¼</p>
            <p>3. <span class="status-indicator status-offline"></span>çº¢è‰²è¡¨ç¤ºè¿æ¥é—®é¢˜</p>
            <p>4. æ–°çš„APIé…ç½®æä¾›å…è´¹çš„DeepSeekæ¨¡å‹è®¿é—®</p>
            <p>5. å¦‚é‡é—®é¢˜ä¼šè‡ªåŠ¨å°è¯•å¤šç§è¿æ¥æ–¹å¼</p>
        </div>
    </div>

    <script src="ai-assistant.js"></script>
    <script>
        function testAPI() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<div class="config-card"><h4>ğŸ”„ APIè¿æ¥æµ‹è¯•ä¸­...</h4><p>æ­£åœ¨æµ‹è¯•OpenRouter APIè¿æ¥...</p></div>';
            
            // æ£€æŸ¥AIåŠ©æ‰‹æ˜¯å¦åŠ è½½
            const aiButton = document.getElementById('ai-chat-button');
            if (aiButton) {
                resultsDiv.innerHTML += '<div class="config-card success"><h4>âœ… AIåŠ©æ‰‹ç•Œé¢</h4><p><span class="status-indicator status-online"></span>AIåŠ©æ‰‹ç•Œé¢å·²æˆåŠŸåŠ è½½</p></div>';
                
                // æ£€æŸ¥é…ç½®
                if (typeof AI_CONFIG !== 'undefined') {
                    resultsDiv.innerHTML += `<div class="config-card success">
                        <h4>âœ… APIé…ç½®æ£€æµ‹</h4>
                        <p><span class="status-indicator status-online"></span>OpenRouter APIé…ç½®å·²åŠ è½½</p>
                        <div class="code-block">
                            APIç«¯ç‚¹: ${AI_CONFIG.apiUrl}<br>
                            æ¨¡å‹: ${AI_CONFIG.model}<br>
                            æµ‹è¯•æ¨¡å¼: ${AI_CONFIG.testMode ? 'æ˜¯' : 'å¦'}<br>
                            è¿æ¥æ–¹å¼: ${AI_CONFIG.proxyUrls.length + 1} ç§
                        </div>
                    </div>`;
                } else {
                    resultsDiv.innerHTML += '<div class="config-card error"><h4>âŒ é…ç½®æ£€æµ‹</h4><p><span class="status-indicator status-offline"></span>AIé…ç½®æœªæ­£ç¡®åŠ è½½</p></div>';
                }
            } else {
                resultsDiv.innerHTML += '<div class="config-card error"><h4>âŒ ç•Œé¢æ£€æµ‹</h4><p><span class="status-indicator status-offline"></span>AIåŠ©æ‰‹æŒ‰é’®æœªæ‰¾åˆ°</p></div>';
            }
        }
        
        function openAI() {
            const aiButton = document.getElementById('ai-chat-button');
            if (aiButton) {
                aiButton.click();
            } else {
                alert('AIåŠ©æ‰‹æœªåŠ è½½ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
            }
        }
        
        function testQuestions() {
            askQuestion('è¿™æ˜¯ä¸€ä¸ªOpenRouter APIè¿æ¥æµ‹è¯•ï¼Œè¯·ç®€å•å›å¤ç¡®è®¤ä½ èƒ½æ­£å¸¸å·¥ä½œã€‚');
        }
        
        function askQuestion(question) {
            const aiButton = document.getElementById('ai-chat-button');
            if (aiButton) {
                aiButton.click();
                
                setTimeout(() => {
                    const input = document.getElementById('ai-chat-input');
                    if (input) {
                        input.value = question;
                        input.focus();
                        
                        setTimeout(() => {
                            const sendBtn = document.getElementById('ai-send-button');
                            if (sendBtn) {
                                sendBtn.click();
                            }
                        }, 500);
                    }
                }, 500);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ£€æµ‹
        window.addEventListener('load', function() {
            setTimeout(() => {
                testAPI();
            }, 1000);
        });
    </script>
</body>
</html> 